# ADS 层设计说明文档

## 1. 设计概述（Design Overview）

### 1.1 ADS 层定位与设计要点

**ADS（Application Data Service）层**是面向应用的数据服务层，直接对接 BI 报表、数据产品、业务系统。

#### 核心设计要点

1. **应用导向**：每张表对应一个明确的应用场景（日报/周报/监控大屏/API接口等）  
2. **不分区**：ADS 表数据量小，不设置分区字段，全表更新或增量追加  
3. **行式存储**：采用 TextFile 或默认存储格式（非列式），便于与外部数据库（MySQL/PostgreSQL/ClickHouse）同步  
4. **外部同步**：通过 DataX 等工具将 ADS 表数据同步到关系型数据库，供应用层直接查询  
5. **宽表自包含**：表内包含完整的维度与指标，应用层无需再关联其他表  
6. **高时效性**：支持 T+1 日批处理或小时级准实时更新  

***

## 2. ADS 层详细设计（ADS Layer Design）

### 2.1 设计要点强调

**ADS 层关键特性**：
1. **不分区**：表结构无分区字段，数据按全表或追加方式更新  
2. **行式存储**：采用 TEXTFILE 或默认存储（非ORC），便于与 MySQL/PostgreSQL 同步  
3. **应用直连**：通过 DataX/Sqoop 同步到外部数据库，供报表/API直接查询  
4. **数据量小**：一般为聚合后的结果集，行数在千至万级别  

***

### 2.2 综合安全日报（`ads_safe_comprehensive_daily_report`）

**业务场景**：质量安全部门每日全域安全概览  
**数据同步**：同步到 MySQL 供 BI 报表系统查询  
**刷新频率**：每日 T+1 凌晨全表更新  